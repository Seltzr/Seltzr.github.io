<!DOCTYPE html>

<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Getting Started with Seltzr and Entity Framework Core </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Getting Started with Seltzr and Entity Framework Core ">
    <meta name="generator" content="docfx 2.52.0.0">
    
    <link rel="shortcut icon" href="../../favicon.png">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../favicon.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="getting-started">
<h1 id="getting-started-with-seltzr-and-entity-framework-core">Getting Started with Seltzr and Entity Framework Core</h1>

<p>In this getting started example, we'll be building a simple to-do app. When you're finished, you'll be able to use a web interface to create, read, update, and delete from a to-do list:</p>
<p><img src="../../images/getting_started/todo/complete.jpg" alt="todo app"></p>
<h2 id="terminology">Terminology</h2>
<ul>
<li>Definitions of the technical terms used in this article are listed below:
<ul>
<li><strong>API:</strong> Every call to some form of <code>app.UseSeltzr</code> is an &quot;API,&quot; a set of routes bundled together for working with a specific model.</li>
<li><strong>Model:</strong> The data class that the API operates on. In Entity Framework, this is also referred to as an Entity.</li>
<li><strong>Route:</strong> A bundle of everything that makes up a request with a single associated route pattern: parsers, filters, etc.</li>
<li><strong>Route Pattern:</strong> The string pattern that determines whether an HTTP request path matches a route</li>
</ul>
</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li><a href="https://visualstudio.microsoft.com/">Visual Studio with .NET Core</a> (Windows) or <a href="https://code.visualstudio.com/">Visual Studio Code</a> and the <a href="https://www.microsoft.com/net/download/core">.NET Core SDK</a> (Windows, Mac, Linux)</li>
<li>A good knowledge of ASP.NET Core and Entity Framework is recommended, but not required.</li>
</ul>
<h2 id="creating-a-new-project">Creating a new Project</h2>
<ul>
<li>Create a new ASP.NET Core project in Visual Studio, or on the command line.</li>
</ul>
<div class="tabGroup" id="tabgroup_CeZOj-G++Q">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_CeZOj-G++Q_vs" role="tab" aria-controls="tabpanel_CeZOj-G++Q_vs" data-tab="vs" tabindex="0" aria-selected="true">Visual Studio 2019</a>
</li>
<li role="presentation">
<a href="#tabpanel_CeZOj-G++Q_cli" role="tab" aria-controls="tabpanel_CeZOj-G++Q_cli" data-tab="cli" tabindex="-1">Command Line</a>
</li>
</ul>
<section id="tabpanel_CeZOj-G++Q_vs" role="tabpanel" data-tab="vs">

<ul>
<li>From the Start Page, click on <strong>Create a new project</strong></li>
<li>Click on or search for <strong>ASP.NET Core Web Application</strong></li>
<li>Enter a suitable project name, like <strong>SeltzrGetStarted</strong></li>
<li>Click <strong>Create</strong></li>
<li>When prompted, choose the <strong>Web Application</strong> template</li>
</ul>
</section>
<section id="tabpanel_CeZOj-G++Q_cli" role="tabpanel" data-tab="cli" aria-hidden="true" hidden="hidden">

<p>Create a new folder for your project, and a new web application with <code>dotnet</code>.</p>
<div class="code-header"><span class="language">Bash</span></div><pre id="dqhhyitu"><code><span style='color:#000000;'>~</span><span style='color:black;'>$ mkdir SeltzrGetStarted </span><span style='color:#000000;'>&amp;&amp;</span><span style='color:black;'> </span><span style='color:#795E26;'>cd</span><span style='color:black;'> SeltzrGetStarted</span>
<span style='color:#000000;'>~</span><span style='color:black;'>/SeltzrGetStarted$ dotnet new webapp</span>
<span style='color:black;'></span></code></pre>
</section>
</div>
<h2 id="installing-dependencies">Installing Dependencies</h2>
<ul>
<li>Next, install the <code>Seltzr.EntityFrameworkCore</code> nuget package, as well as the Entity Framework package for Sqlite: <code>Microsoft.EntityFrameworkCore.Sqlite</code>.</li>
</ul>
<div class="tabGroup" id="tabgroup_CeZOj-G++Q-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_CeZOj-G++Q-1_vs" role="tab" aria-controls="tabpanel_CeZOj-G++Q-1_vs" data-tab="vs" tabindex="0" aria-selected="true">Visual Studio 2019</a>
</li>
<li role="presentation">
<a href="#tabpanel_CeZOj-G++Q-1_cli" role="tab" aria-controls="tabpanel_CeZOj-G++Q-1_cli" data-tab="cli" tabindex="-1">Command Line</a>
</li>
</ul>
<section id="tabpanel_CeZOj-G++Q-1_vs" role="tabpanel" data-tab="vs">

<ul>
<li>From the toolbar, select <strong>Tools</strong> &gt; <strong>NuGet Package Manager</strong> &gt; <strong>Package Manager Console</strong></li>
<li>Enter the following commands in the Package Manager Console:</li>
</ul>
<div class="code-header"><span class="language">Package Manager Console</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'mbjafzsp')">Copy</button></div><pre id="mbjafzsp"><code><span style='color:#795E26;'>Install-Package</span><span style='color:black;'> Microsoft.EntityFrameworkCore.Sqlite</span>
<span style='color:#795E26;'>Install-Package</span><span style='color:black;'> Seltzr.EntityFrameworkCore</span>
<span style='color:black;'></span></code></pre>
</section>
<section id="tabpanel_CeZOj-G++Q-1_cli" role="tabpanel" data-tab="cli" aria-hidden="true" hidden="hidden">

<div class="code-header"><span class="language">Bash</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'tlrvhlex')">Copy</button></div><pre id="tlrvhlex"><code><span style='color:black;'>dotnet add package Microsoft.EntityFrameworkCore.Sqlite</span>
<span style='color:black;'>dotnet add package Seltzr.EntityFrameworkCore</span>
<span style='color:black;'></span></code></pre>
</section>
</div>

<ul>
<li>Once you've installed the packages, build the project (<code>Ctrl+Shift+B</code> or <code>dotnet build</code>) to make sure they installed properly.</li>
</ul>
<h2 id="creating-the-web-interface">Creating the Web Interface</h2>
<h3 id="html">HTML</h3>
<ul>
<li>To create the web interface, start by replacing the code in <strong>Pages/Index.cshtml</strong> with the following:</li>
</ul>
<div class="code-header"><span class="language">Index.cshtml</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'wgwmsmyb')">Copy</button></div><pre id="wgwmsmyb"><code><span style='color:#0000FF;'>@page</span>
<span style='color:#0000FF;'>@model </span><span style='color:#267F99;'>IndexModel</span>
<span style='color:#0000FF;'>@{</span>
<span style='color:black;'>    </span><span style='color:#001080;'>ViewData</span><span style='color:#222222;'>[</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>Title</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>]</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>Todo</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>;</span>
<span style='color:#0000FF;'>}</span>
<span style='color:black;'></span>
<span style='color:#800000;'>&lt;</span><span style='color:#800000;'>div</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>text-center</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>    </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>h1</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>display-4</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:black;'>To-Do</span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>h1</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>    </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>section</span><span style='color:black;'> </span><span style='color:#FF0000;'>id</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>todo-container</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>col</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>        </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>ul</span><span style='color:black;'> </span><span style='color:#FF0000;'>id</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>todo-list</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>list-group</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>ul</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>        </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>div</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>row m-0</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:black;'>    </span>
<span style='color:black;'>            </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>input</span><span style='color:black;'> </span><span style='color:#FF0000;'>type</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>text</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>form-control col-9 m-2</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>placeholder</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>Todo...</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>id</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>new-todo</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>            </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>button</span><span style='color:black;'> </span><span style='color:#FF0000;'>type</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>button</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>btn btn-primary col m-2</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>id</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>create-btn</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:black;'>Create</span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>button</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>        </span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>div</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>    </span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>section</span><span style='color:#800000;'>&gt;</span>
<span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>div</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>This code:
<ul>
<li>Creates a container for todo items</li>
<li>Creates a text input and button for creating new todo items</li>
</ul>
</li>
</ul>
<h3 id="javascript">Javascript</h3>
<ul>
<li>Next, replace the code in <strong>wwwroot/js/site.js</strong> with the following:</li>
</ul>
<div class="code-header"><span class="language">site.js</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'sxiomxfl')">Copy</button></div><pre id="sxiomxfl"><code><span style='color:#0000FF;'>async</span><span style='color:black;'> </span><span style='color:#0000FF;'>function</span><span style='color:black;'> </span><span style='color:#795E26;'>getTodos</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>response</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#0000FF;'>await</span><span style='color:black;'> </span><span style='color:#795E26;'>fetch</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>/todos</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>if</span><span style='color:black;'> </span><span style='color:black;'>(</span><span style='color:#001080;'>response</span><span style='color:#222222;'>.</span><span style='color:#222222;'>status</span><span style='color:black;'> </span><span style='color:#000000;'>!==</span><span style='color:black;'> </span><span style='color:#098658;'>200</span><span style='color:black;'>)</span><span style='color:black;'> </span><span style='color:#0000FF;'>throw</span><span style='color:black;'> </span><span style='color:#0000FF;'>new</span><span style='color:black;'> </span><span style='color:#267F99;'>Error</span><span style='color:black;'>(</span><span style='color:#001080;'>response</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>text</span><span style='color:black;'>(</span><span style='color:black;'>)</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>todos</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#0000FF;'>await</span><span style='color:black;'> </span><span style='color:#001080;'>response</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>json</span><span style='color:black;'>(</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#001080;'>document</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>getElementById</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>todo-list</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#222222;'>innerHTML</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#001080;'>todos</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>forEach</span><span style='color:black;'>(</span><span style='color:#001080;'>t</span><span style='color:black;'> </span><span style='color:#0000FF;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>        </span><span style='color:#001080;'>document</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>getElementById</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>todo-list</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>appendChild</span><span style='color:black;'>(</span><span style='color:#795E26;'>createTodoItem</span><span style='color:black;'>(</span><span style='color:#001080;'>t</span><span style='color:black;'>)</span><span style='color:black;'>)</span>
<span style='color:black;'>    </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:#222222;'>}</span>
<span style='color:black;'></span>
<span style='color:#0000FF;'>function</span><span style='color:black;'> </span><span style='color:#795E26;'>createTodo</span><span style='color:#222222;'>(</span><span style='color:#001080;'>text</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>return</span><span style='color:black;'> </span><span style='color:#795E26;'>fetch</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>/todos</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>        </span><span style='color:#001080;'>body</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#267F99;'>JSON</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>stringify</span><span style='color:black;'>(</span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#001080;'>Text</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#001080;'>text</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>,</span>
<span style='color:black;'>        </span><span style='color:#001080;'>headers</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#001080;'>&quot;</span><span style='color:#001080;'>Content-Type</span><span style='color:#001080;'>&quot;</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>application/json</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:#222222;'>,</span>
<span style='color:black;'>        </span><span style='color:#001080;'>method</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>POST</span><span style='color:#A31515;'>&quot;</span>
<span style='color:black;'>    </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:#222222;'>}</span>
<span style='color:black;'></span>
<span style='color:#0000FF;'>function</span><span style='color:black;'> </span><span style='color:#795E26;'>deleteTodo</span><span style='color:#222222;'>(</span><span style='color:#001080;'>id</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>return</span><span style='color:black;'> </span><span style='color:#795E26;'>fetch</span><span style='color:black;'>(</span><span style='color:#A31515;'>`</span><span style='color:#A31515;'>/todos/</span><span style='color:#A31515;'>${</span><span style='color:#A31515;'>id</span><span style='color:#A31515;'>}</span><span style='color:#A31515;'>`</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>        </span><span style='color:#001080;'>method</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>DELETE</span><span style='color:#A31515;'>&quot;</span>
<span style='color:black;'>    </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>then</span><span style='color:black;'>(</span><span style='color:#001080;'>getTodos</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:#222222;'>}</span>
<span style='color:black;'></span>
<span style='color:#0000FF;'>async</span><span style='color:black;'> </span><span style='color:#0000FF;'>function</span><span style='color:black;'> </span><span style='color:#795E26;'>updateTodo</span><span style='color:#222222;'>(</span><span style='color:#001080;'>id</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>text</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>return</span><span style='color:black;'> </span><span style='color:#795E26;'>fetch</span><span style='color:black;'>(</span><span style='color:#A31515;'>`</span><span style='color:#A31515;'>/todos/</span><span style='color:#A31515;'>${</span><span style='color:#A31515;'>id</span><span style='color:#A31515;'>}</span><span style='color:#A31515;'>`</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>        </span><span style='color:#001080;'>method</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>PATCH</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span>
<span style='color:black;'>        </span><span style='color:#001080;'>body</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#267F99;'>JSON</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>stringify</span><span style='color:black;'>(</span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#001080;'>Text</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#001080;'>text</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>,</span>
<span style='color:black;'>        </span><span style='color:#001080;'>headers</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#001080;'>&quot;</span><span style='color:#001080;'>Content-Type</span><span style='color:#001080;'>&quot;</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>application/json</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'> </span><span style='color:#222222;'>}</span>
<span style='color:black;'>    </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:#222222;'>}</span>
<span style='color:black;'></span>
<span style='color:#0000FF;'>function</span><span style='color:black;'> </span><span style='color:#795E26;'>onKeyDown</span><span style='color:#222222;'>(</span><span style='color:#001080;'>id</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>e</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>if</span><span style='color:black;'> </span><span style='color:black;'>(</span><span style='color:#001080;'>e</span><span style='color:#222222;'>.</span><span style='color:#222222;'>keyCode</span><span style='color:black;'> </span><span style='color:#000000;'>==</span><span style='color:black;'> </span><span style='color:#098658;'>13</span><span style='color:black;'>)</span><span style='color:black;'> </span><span style='color:#795E26;'>updateTodo</span><span style='color:black;'>(</span><span style='color:#001080;'>id</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#0000FF;'>this</span><span style='color:#222222;'>.</span><span style='color:#222222;'>value</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>then</span><span style='color:black;'>(</span><span style='color:#001080;'>r</span><span style='color:black;'> </span><span style='color:#0000FF;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>        </span><span style='color:#0000FF;'>this</span><span style='color:#222222;'>.</span><span style='color:#001080;'>style</span><span style='color:#222222;'>.</span><span style='color:#222222;'>transition</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>background-color 150ms ease</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>;</span>
<span style='color:black;'>        </span><span style='color:#0000FF;'>this</span><span style='color:#222222;'>.</span><span style='color:#001080;'>style</span><span style='color:#222222;'>.</span><span style='color:#222222;'>backgroundColor</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#001080;'>r</span><span style='color:#222222;'>.</span><span style='color:#222222;'>status</span><span style='color:black;'> </span><span style='color:#000000;'>==</span><span style='color:black;'> </span><span style='color:#098658;'>200</span><span style='color:black;'> </span><span style='color:#000000;'>?</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>#bae0ff</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'> </span><span style='color:#000000;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>#ffc3be</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>;</span>
<span style='color:black;'>        </span><span style='color:#795E26;'>setTimeout</span><span style='color:black;'>(</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#0000FF;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#0000FF;'>this</span><span style='color:#222222;'>.</span><span style='color:#001080;'>style</span><span style='color:#222222;'>.</span><span style='color:#222222;'>backgroundColor</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#795E26;'>setTimeout</span><span style='color:black;'>(</span><span style='color:#001080;'>getTodos</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#098658;'>75</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#098658;'>75</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:#222222;'>}</span>
<span style='color:black;'></span>
<span style='color:#0000FF;'>function</span><span style='color:black;'> </span><span style='color:#795E26;'>createTodoItem</span><span style='color:#222222;'>(</span><span style='color:#001080;'>todo</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#795E26;'>newEl</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#222222;'>(</span><span style='color:#001080;'>name</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>attrs</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#0000FF;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>el</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#001080;'>document</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>createElement</span><span style='color:black;'>(</span><span style='color:#001080;'>name</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#0000FF;'>for</span><span style='color:black;'> </span><span style='color:black;'>(</span><span style='color:#001080;'>key</span><span style='color:black;'> </span><span style='color:#0000FF;'>in</span><span style='color:black;'> </span><span style='color:#001080;'>attrs</span><span style='color:black;'>)</span><span style='color:black;'> </span><span style='color:#001080;'>el</span><span style='color:black;'>[</span><span style='color:#001080;'>key</span><span style='color:black;'>]</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#001080;'>attrs</span><span style='color:black;'>[</span><span style='color:#001080;'>key</span><span style='color:black;'>]</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#0000FF;'>return</span><span style='color:black;'> </span><span style='color:#001080;'>el</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>root</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#795E26;'>newEl</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>li</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#001080;'>className</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>list-group-item</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>inputGroup</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#795E26;'>newEl</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>div</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#001080;'>className</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>input-group</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>prepend</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#795E26;'>newEl</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>div</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#001080;'>className</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>input-group-prepend</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>idText</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#795E26;'>newEl</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>span</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#001080;'>className</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>input-group-text</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>title</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#0000FF;'>new</span><span style='color:black;'> </span><span style='color:#267F99;'>Date</span><span style='color:black;'>(</span><span style='color:#001080;'>todo</span><span style='color:#222222;'>.</span><span style='color:#222222;'>Created</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>toLocaleString</span><span style='color:black;'>(</span><span style='color:black;'>)</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#001080;'>idText</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>appendChild</span><span style='color:black;'>(</span><span style='color:#001080;'>document</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>createTextNode</span><span style='color:black;'>(</span><span style='color:#001080;'>todo</span><span style='color:#222222;'>.</span><span style='color:#222222;'>Id</span><span style='color:black;'>)</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>input</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#795E26;'>newEl</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>input</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:#001080;'>type</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>text</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>className</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>form-control</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>value</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#001080;'>todo</span><span style='color:#222222;'>.</span><span style='color:#222222;'>Text</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#001080;'>input</span><span style='color:#222222;'>.</span><span style='color:#222222;'>onkeyup</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#001080;'>onKeyDown</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>bind</span><span style='color:black;'>(</span><span style='color:#001080;'>input</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>todo</span><span style='color:#222222;'>.</span><span style='color:#222222;'>Id</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>append</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#795E26;'>newEl</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>div</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#001080;'>className</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>input-group-append</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>deleteBtn</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#795E26;'>newEl</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>div</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#001080;'>className</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>btn btn-danger</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>innerHTML</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>\u00D7</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>onclick</span><span style='color:#001080;'>:</span><span style='color:black;'> </span><span style='color:#001080;'>deleteTodo</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>bind</span><span style='color:black;'>(</span><span style='color:#0000FF;'>null</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>todo</span><span style='color:#222222;'>.</span><span style='color:#222222;'>Id</span><span style='color:black;'>)</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:black;'>)</span>
<span style='color:black;'></span>
<span style='color:black;'>    </span><span style='color:#001080;'>root</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>appendChild</span><span style='color:black;'>(</span><span style='color:#001080;'>inputGroup</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#001080;'>inputGroup</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>appendChild</span><span style='color:black;'>(</span><span style='color:#001080;'>prepend</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#001080;'>prepend</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>appendChild</span><span style='color:black;'>(</span><span style='color:#001080;'>idText</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#001080;'>inputGroup</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>appendChild</span><span style='color:black;'>(</span><span style='color:#001080;'>input</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#001080;'>append</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>appendChild</span><span style='color:black;'>(</span><span style='color:#001080;'>deleteBtn</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#001080;'>inputGroup</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>appendChild</span><span style='color:black;'>(</span><span style='color:#001080;'>append</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>return</span><span style='color:black;'> </span><span style='color:#001080;'>root</span><span style='color:#222222;'>;</span>
<span style='color:#222222;'>}</span>
<span style='color:black;'></span>
<span style='color:#001080;'>document</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>getElementById</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>create-btn</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>addEventListener</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>click</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#0000FF;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>let</span><span style='color:black;'> </span><span style='color:#001080;'>input</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#001080;'>document</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>getElementById</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>new-todo</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#795E26;'>createTodo</span><span style='color:black;'>(</span><span style='color:#001080;'>input</span><span style='color:#222222;'>.</span><span style='color:#222222;'>value</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>then</span><span style='color:black;'>(</span><span style='color:#0000FF;'>async</span><span style='color:black;'> </span><span style='color:#001080;'>r</span><span style='color:black;'> </span><span style='color:#0000FF;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>r</span><span style='color:#222222;'>.</span><span style='color:#222222;'>status</span><span style='color:black;'> </span><span style='color:#000000;'>==</span><span style='color:black;'> </span><span style='color:#098658;'>200</span><span style='color:black;'> </span><span style='color:#000000;'>||</span><span style='color:black;'> </span><span style='color:#795E26;'>alert</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>Couldn&#39;t create todo: </span><span style='color:#A31515;'>&quot;</span><span style='color:black;'> </span><span style='color:#000000;'>+</span><span style='color:black;'> </span><span style='color:#0000FF;'>await</span><span style='color:black;'> </span><span style='color:#001080;'>r</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>text</span><span style='color:black;'>(</span><span style='color:black;'>)</span><span style='color:black;'>)</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>then</span><span style='color:black;'>(</span><span style='color:#001080;'>getTodos</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#001080;'>input</span><span style='color:#222222;'>.</span><span style='color:#222222;'>value</span><span style='color:black;'> </span><span style='color:#000000;'>=</span><span style='color:black;'> </span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>;</span>
<span style='color:#222222;'>}</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:#795E26;'>getTodos</span><span style='color:black;'>(</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>catch</span><span style='color:black;'>(</span><span style='color:#001080;'>e</span><span style='color:black;'> </span><span style='color:#0000FF;'>=&gt;</span><span style='color:black;'> </span><span style='color:#795E26;'>alert</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>Couldn&#39;t GET /todos:</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'> </span><span style='color:#000000;'>+</span><span style='color:black;'> </span><span style='color:#001080;'>e</span><span style='color:black;'>)</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>This code:
<ul>
<li>Sets up requests to create, read, update, and delete todo items</li>
<li>Sets up an event listener on todo items to update them</li>
<li>Adds a method for rendering todo items on the page</li>
<li>Sets up an event listener on the create button to create new todos</li>
</ul>
</li>
</ul>
<h2 id="creating-the-todo-model">Creating the <code>Todo</code> Model</h2>
<ul>
<li>In the root directory of your project, create a file called <strong>Todo.cs</strong> and create the <code>Todo</code> model class, which defines a primary key <code>Id</code>, a value <code>Text</code>, and a creation date <code>Created</code>.</li>
</ul>
<div class="code-header"><span class="language">Todo.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'rvhaagjv')">Copy</button></div><pre id="rvhaagjv"><code><span style='color:#AF00DB;'>using</span><span style='color:black;'> </span><span style='color:#267F99;'>System</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span>
<span style='color:#0000FF;'>namespace</span><span style='color:black;'> </span><span style='color:#267F99;'>SeltzrGetStarted</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>public</span><span style='color:black;'> </span><span style='color:#0000FF;'>class</span><span style='color:black;'> </span><span style='color:#267F99;'>Todo</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>        </span><span style='color:#0000FF;'>public</span><span style='color:black;'> </span><span style='color:#0000FF;'>int</span><span style='color:black;'> </span><span style='color:#001080;'>Id</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#0000FF;'>get</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#0000FF;'>set</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#222222;'>}</span>
<span style='color:black;'></span>
<span style='color:black;'>        </span><span style='color:#0000FF;'>public</span><span style='color:black;'> </span><span style='color:#0000FF;'>string</span><span style='color:black;'> </span><span style='color:#001080;'>Text</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#0000FF;'>get</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#0000FF;'>set</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#222222;'>}</span>
<span style='color:black;'></span>
<span style='color:black;'>        </span><span style='color:#0000FF;'>public</span><span style='color:black;'> </span><span style='color:#267F99;'>DateTime</span><span style='color:black;'> </span><span style='color:#001080;'>Created</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#0000FF;'>get</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#0000FF;'>set</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#222222;'>}</span>
<span style='color:black;'>    </span><span style='color:#222222;'>}</span>
<span style='color:#222222;'>}</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>Next, define the database context for our <code>Todo</code> items:</li>
</ul>
<div class="code-header"><span class="language">TodoContext.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'jtpxiewy')">Copy</button></div><pre id="jtpxiewy"><code><span style='color:#AF00DB;'>using</span><span style='color:black;'> </span><span style='color:#267F99;'>Microsoft</span><span style='color:black;'>.</span><span style='color:#267F99;'>EntityFrameworkCore</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span>
<span style='color:#0000FF;'>namespace</span><span style='color:black;'> </span><span style='color:#267F99;'>SeltzrGetStarted</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#0000FF;'>public</span><span style='color:black;'> </span><span style='color:#0000FF;'>class</span><span style='color:black;'> </span><span style='color:#267F99;'>TodoContext</span><span style='color:black;'> </span><span style='color:#222222;'>:</span><span style='color:black;'> </span><span style='color:#267F99;'>DbContext</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>        </span><span style='color:#0000FF;'>public</span><span style='color:black;'> </span><span style='color:#267F99;'>DbSet</span><span style='color:#222222;'>&lt;</span><span style='color:#267F99;'>Todo</span><span style='color:#222222;'>&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>Todos</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#0000FF;'>get</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#0000FF;'>set</span><span style='color:#222222;'>;</span><span style='color:black;'> </span><span style='color:#222222;'>}</span>
<span style='color:black;'></span>
<span style='color:black;'>        </span><span style='color:#0000FF;'>protected</span><span style='color:black;'> </span><span style='color:#0000FF;'>override</span><span style='color:black;'> </span><span style='color:#0000FF;'>void</span><span style='color:black;'> </span><span style='color:#795E26;'>OnConfiguring</span><span style='color:#222222;'>(</span><span style='color:#267F99;'>DbContextOptionsBuilder</span><span style='color:black;'> </span><span style='color:#001080;'>options</span><span style='color:#222222;'>)</span>
<span style='color:black;'>            </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>options</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>UseSqlite</span><span style='color:#222222;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>Data Source=todo.db</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>    </span><span style='color:#222222;'>}</span>
<span style='color:#222222;'>}</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>Finally, create the <code>Todo</code> table in the database using EF Core tools:</li>
</ul>
<div class="tabGroup" id="tabgroup_CeZOj-G++Q-2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_CeZOj-G++Q-2_vs" role="tab" aria-controls="tabpanel_CeZOj-G++Q-2_vs" data-tab="vs" tabindex="0" aria-selected="true">Visual Studio 2019</a>
</li>
<li role="presentation">
<a href="#tabpanel_CeZOj-G++Q-2_cli" role="tab" aria-controls="tabpanel_CeZOj-G++Q-2_cli" data-tab="cli" tabindex="-1">Command Line</a>
</li>
</ul>
<section id="tabpanel_CeZOj-G++Q-2_vs" role="tabpanel" data-tab="vs">

<p>In the Package Manager Console, run the following:</p>
<div class="code-header"><span class="language">Package Manager Console</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'gtigzept')">Copy</button></div><pre id="gtigzept"><code><span style='color:#795E26;'>Install-Package</span><span style='color:black;'> Microsoft.EntityFrameworkCore.Tools</span>
<span style='color:#795E26;'>Add-Migration</span><span style='color:black;'> InitialCreate</span>
<span style='color:#795E26;'>Update-Database</span>
<span style='color:black;'></span></code></pre>
<p>For more details on what these commands are doing, refer to EF Core's <a href="https://docs.microsoft.com/en-us/ef/core/get-started/?tabs=visual-studio#tabpanel_CeZOj-G++Q-4_visual-studio">getting started guide</a></p>
</section>
<section id="tabpanel_CeZOj-G++Q-2_cli" role="tabpanel" data-tab="cli" aria-hidden="true" hidden="hidden">

<div class="code-header"><span class="language">Bash</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'qvhuthnl')">Copy</button></div><pre id="qvhuthnl"><code><span style='color:black;'>dotnet tool install --global dotnet-ef</span>
<span style='color:black;'>dotnet add package Microsoft.EntityFrameworkCore.Design</span>
<span style='color:black;'>dotnet ef migrations add InitialCreate</span>
<span style='color:black;'>dotnet ef database update</span>
<span style='color:black;'></span></code></pre>
<p>For more details on what these commands are doing, refer to EF Core's <a href="https://docs.microsoft.com/en-us/ef/core/get-started/?tabs=visual-studio#tabpanel_CeZOj-G++Q-4_visual-studio">getting started guide</a></p>
</section>
</div>
<h2 id="building-the-api">Building the API</h2>
<ul>
<li>If you try to run the project now, you'll get errors because the webpage can't connect to the API. Let's fix that.</li>
<li>Register the database context in <strong>Startup.cs</strong> so that Seltzr can use it.</li>
</ul>
<div class="code-header"><span class="language">Startup.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'tavxyhci')">Copy</button></div><pre id="tavxyhci"><code><span style='color:#0000FF;'>public</span><span style='color:black;'> </span><span style='color:#0000FF;'>void</span><span style='color:black;'> </span><span style='color:#795E26;'>ConfigureServices</span><span style='color:#222222;'>(</span><span style='color:#267F99;'>IServiceCollection</span><span style='color:black;'> </span><span style='color:#001080;'>services</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>   </span><span style='color:#001080;'>services</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>AddRazorPages</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span class="line-highlight"><span style='color:black;'>   </span><span style='color:#001080;'>services</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>AddDbContext</span><span style='color:#222222;'>&lt;</span><span style='color:#267F99;'>TodoContext</span><span style='color:#222222;'>&gt;</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span></span><span class="newline">
</span><span style='color:#222222;'>}</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>Import Seltzr and initialize it at the end of <code>Configure</code> using the extension method <a class="xref" href="../../api/Microsoft.Extensions.DependencyInjection.EFCoreSeltzrApplicationBuilderExtensions.html#Microsoft_Extensions_DependencyInjection_EFCoreSeltzrApplicationBuilderExtensions_AddEFCoreSeltzr__2_Microsoft_AspNetCore_Builder_IApplicationBuilder_System_String_System_Action_Seltzr_Options_Builder_SeltzrOptionsBuilder___0_Seltzr_Auth_NoUser___">AddEFCoreSeltzr(String, Action&lt;SeltzrOptionsBuilder&gt;)</a></li>
</ul>
<div class="code-header"><span class="language">Startup.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'hhzrbjyu')">Copy</button></div><pre id="hhzrbjyu"><code><span style='color:#AF00DB;'>using</span><span style='color:black;'> </span><span style='color:#267F99;'>Seltzr</span><span style='color:black;'>.</span><span style='color:#267F99;'>Extensions</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span></code></pre><div class="code-header"><span class="language">Startup.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'ccictyaz')">Copy</button></div><pre id="ccictyaz"><code><span style='color:#0000FF;'>public</span><span style='color:black;'> </span><span style='color:#0000FF;'>void</span><span style='color:black;'> </span><span style='color:#795E26;'>Configure</span><span style='color:#222222;'>(</span><span style='color:#267F99;'>IApplicationBuilder</span><span style='color:black;'> </span><span style='color:#001080;'>app</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#267F99;'>IWebHostEnvironment</span><span style='color:black;'> </span><span style='color:#001080;'>env</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    ...</span>
<span class="line-highlight"><span style='color:black;'>    </span><span style='color:#001080;'>app</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>AddEFCoreSeltzr</span><span style='color:#222222;'>&lt;</span><span style='color:#267F99;'>Todo</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#267F99;'>TodoContext</span><span style='color:#222222;'>&gt;</span><span style='color:#222222;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>todos</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>api</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span><span style='color:black;'> </span><span style='color:#222222;'>}</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span></span><span class="newline">
</span><span style='color:#222222;'>}</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>The above code:
<ul>
<li>Creates a new API with a base route pattern of &quot;todos/&quot;. All other routes created for this API will start with &quot;todos/&quot;</li>
<li>Defines a callback that takes in a <a class="xref" href="../../api/Seltzr.Options.Builder.SeltzrOptionsBuilder-2.html">SeltzrOptionsBuilder</a> for setting options and creating child routes for this API.</li>
</ul>
</li>
</ul>
<h4 id="adding-options">Adding options</h4>
<ul>
<li>Add some options to the API that affect all routes.</li>
</ul>
<div class="code-header"><span class="language">Startup.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'fawqhgkj')">Copy</button></div><pre id="fawqhgkj"><code><span style='color:#001080;'>app</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>AddEFCoreSeltzr</span><span style='color:#222222;'>&lt;</span><span style='color:#267F99;'>Todo</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#267F99;'>TodoContext</span><span style='color:#222222;'>&gt;</span><span style='color:#222222;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>todos</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>api</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span class="line-highlight"><span style='color:black;'>    </span><span style='color:#001080;'>api</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>ParseJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>WriteJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>CatchExceptions</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span></span><span class="newline">
</span><span style='color:#222222;'>}</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>The above code:
<ul>
<li>Sets the API up to parse HTTP request bodies in the JSON format</li>
<li>Sets the API up to return all responses in the JSON format</li>
<li>Adds an <a href="xref:exception-handlers"><strong>Exception Handler</strong></a> so that unhandled exceptions are caught and returned in the API response.</li>
</ul>
</li>
</ul>
<h4 id="declaring-routes">Declaring routes</h4>
<ul>
<li>Declare four routes on the API for working with <code>Todo</code> items.</li>
</ul>
<div class="code-header"><span class="language">Startup.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'onkcpncu')">Copy</button></div><pre id="onkcpncu"><code><span style='color:#001080;'>app</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>AddEFCoreSeltzr</span><span style='color:#222222;'>&lt;</span><span style='color:#267F99;'>Todo</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#267F99;'>TodoContext</span><span style='color:#222222;'>&gt;</span><span style='color:#222222;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>todos</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>api</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#001080;'>api</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>ParseJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>WriteJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>CatchExceptions</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Get</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>DeleteByPrimaryKey</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>PatchUpdateByPrimaryKey</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>PostCreate</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span></span><span class="newline">
</span><span style='color:#222222;'>}</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>The above code:
<ul>
<li>Creates four new routes</li>
<li>The first, <a class="xref" href="../../api/Seltzr.Extensions.SeltzrOrmOptionsBuilderExtensions.html#Seltzr_Extensions_SeltzrOrmOptionsBuilderExtensions_Get__2_Seltzr_Options_Builder_SeltzrOptionsBuilder___0___1__">Get()</a>, defines a <code>GET</code> request that will return all of the <code>Todo</code> items in the database</li>
<li><a class="xref" href="../../api/Seltzr.Extensions.SeltzrOrmOptionsBuilderExtensions.html#Seltzr_Extensions_SeltzrOrmOptionsBuilderExtensions_DeleteByPrimaryKey__2_Seltzr_Options_Builder_SeltzrOptionsBuilder___0___1__">DeleteByPrimaryKey()</a> defines a <code>DELETE</code> request that will accept a value for <code>Id</code> at the end of the route pattern (e.g. <code>/todos/4</code>) and delete the matching <code>Todo</code></li>
<li><a class="xref" href="../../api/Seltzr.Extensions.SeltzrOrmOptionsBuilderExtensions.html#Seltzr_Extensions_SeltzrOrmOptionsBuilderExtensions_PatchUpdateByPrimaryKey__2_Seltzr_Options_Builder_SeltzrOptionsBuilder___0___1__">PatchUpdateByPrimaryKey()</a> defines a <code>PATCH</code> request that similarly accepts a value for <code>Id</code> and updates the <code>Todo</code> using the values provided in the request body.</li>
<li><a class="xref" href="../../api/Seltzr.Extensions.SeltzrOrmOptionsBuilderExtensions.html#Seltzr_Extensions_SeltzrOrmOptionsBuilderExtensions_PostCreate__2_Seltzr_Options_Builder_SeltzrOptionsBuilder___0___1__System_Action_Seltzr_Options_Builder_SeltzrOptionsBuilder___0___1___">PostCreate()</a> defines a <code>POST</code> request that accepts a JSON request body and creates a new <code>Todo</code></li>
</ul>
</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p>Those four methods aren't the only ones that create routes. See <a class="xref" href="../request_flow/routing.html">routing</a> for a comprehensive list.</p>
</div>
<h2 id="run-the-app">Run the app</h2>
<ul>
<li>With all four routes defined, run the app by hitting the play button in Visual Studio or executing <code>dotnet run</code> in a terminal.</li>
<li>If a browser doesn't open automatically, open one and browse to the link output in the console.</li>
<li>When the website loads, use the field at the bottom of the page to type in a new todo item and hit <strong>Create</strong>.</li>
<li>A new todo item should be created and displayed alongside its <code>Id</code> above the text field. Try entering new text into the displayed item and hitting <code>Enter</code>. A blue flash indicates that the todo item has been updated.</li>
<li>Hitting the red <code>X</code> will delete the todo item.</li>
<li>Hovering over the <code>Id</code> will display the creation date for the todo item. There's no logic to set that yet, however, so it will display a placeholder value.</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p>Any any point when you're running the app, hit <code>Ctrl+Shift+I</code> (<code>Cmd+Shift+I</code> on MacOS) and click on the <strong>Network</strong> tab in the window that appears to observe the raw network requests and responses from the API.</p>
</div>
<h2 id="extending-the-api">Extending the API</h2>
<ul>
<li>Though the simple API works fine, these next steps cover some nice features you can add to polish it off.</li>
</ul>
<h4 id="sorting-the-todo-items">Sorting the <code>Todo</code> Items</h4>
<ul>
<li>Use the <a class="xref" href="../../api/Seltzr.Options.Builder.SeltzrOptionsBuilder-2.html#Seltzr_Options_Builder_SeltzrOptionsBuilder_2_OrderBy__1_System_Linq_Expressions_Expression_System_Func__0___0___">OrderBy</a> method to sort the todo items alphabetically by their <code>Text</code> property:</li>
</ul>
<div class="code-header"><span class="language">Startup.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'tikwhhud')">Copy</button></div><pre id="tikwhhud"><code><span style='color:#001080;'>app</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>AddEFCoreSeltzr</span><span style='color:#222222;'>&lt;</span><span style='color:#267F99;'>Todo</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#267F99;'>TodoContext</span><span style='color:#222222;'>&gt;</span><span style='color:#222222;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>todos</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>api</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#001080;'>api</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>ParseJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>WriteJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>CatchExceptions</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>OrderBy</span><span style='color:#222222;'>(</span><span style='color:#001080;'>t</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>t</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Text</span><span style='color:#222222;'>)</span></span><span class="newline">
</span><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Get</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>DeleteByPrimaryKey</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>PatchUpdateByPrimaryKey</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>PostCreate</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:#222222;'>}</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>Under the hood, this method adds a <a href="xref:filters"><strong>Filter</strong></a> to the route. A filter is anything that modifies the dataset, even if it doesn't actually &quot;filter&quot; models out.</li>
<li>Run the app and create a new todo item. It should be inserted alphabetically into the todo list.</li>
</ul>
<h4 id="requiring-non-empty-input">Requiring Non-Empty Input</h4>
<ul>
<li>Currently, when creating or updating a todo item, empty or whitespace-only text is accepted as a valid value for the item. Use the <a class="xref" href="../../api/Seltzr.Options.Builder.SeltzrOptionsBuilder-2.html#Seltzr_Options_Builder_SeltzrOptionsBuilder_2_RequireAllInput_System_Func__0_System_Boolean__">RequireAllInput(Func&lt;TModel, Boolean&gt;)</a> method to prevent this.</li>
</ul>
<div class="code-header"><span class="language">Startup.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'vsejdayt')">Copy</button></div><pre id="vsejdayt"><code><span style='color:#001080;'>app</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>AddEFCoreSeltzr</span><span style='color:#222222;'>&lt;</span><span style='color:#267F99;'>Todo</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#267F99;'>TodoContext</span><span style='color:#222222;'>&gt;</span><span style='color:#222222;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>todos</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>api</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#001080;'>api</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>ParseJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>WriteJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>CatchExceptions</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>OrderBy</span><span style='color:#222222;'>(</span><span style='color:#001080;'>t</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>t</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Text</span><span style='color:#222222;'>)</span>
<span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>RequireAllInput</span><span style='color:#222222;'>(</span><span style='color:#001080;'>t</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#000000;'>!</span><span style='color:#001080;'>string</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>IsNullOrWhiteSpace</span><span style='color:#222222;'>(</span><span style='color:#001080;'>t</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Text</span><span style='color:#222222;'>)</span><span style='color:#222222;'>)</span></span><span class="newline">
</span><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Get</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>DeleteByPrimaryKey</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>PatchUpdateByPrimaryKey</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>PostCreate</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:#222222;'>}</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>This method creates a <a href="xref:conditions"><strong>Condition</strong></a> that requires the input text to not be null or whitespace.</li>
<li>Run the app.
<ul>
<li>Create an empty todo. An error should appear.</li>
<li>Updating an existing todo with whitespace. A red flash and no change should occur.</li>
</ul>
</li>
</ul>
<div class="WARNING">
<h5>Warning</h5>
<p>Try putting the call to <code>RequireAllInput</code> at the end of the chain, after <code>PostCreate</code>. You'll notice it's possible to create empty todo items again. <strong>Why?</strong> Calls to Seltzr's options builder only apply to all <strong>future</strong> routes (methods like <code>Get()</code> and <code>DeleteByPrimaryKey()</code> are what create routes), any previous routes don't have those options applied to them.</p>
</div>
<div class="TIP">
<h5>Tip</h5>
<p>Try adding <a href="xref:">.ForEachInput(t =&gt; t.Text = t.Text.Trim())</a> to also trim any excess whitespace from the ends of the todo item.</p>
</div>
<h4 id="setting-a-creation-date">Setting a creation date</h4>
<ul>
<li>Every method that creates a route, like <code>Get()</code> and <code>PostCreate()</code> also accepts an options handler of its own which can be used to set up additional options that <strong>only apply to that route</strong>. Use it here to default the <code>Created</code> property on <code>Todo</code> to the current date and time.</li>
</ul>
<div class="code-header"><span class="language">Startup.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'qrrponpi')">Copy</button></div><pre id="qrrponpi"><code><span style='color:#001080;'>app</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>AddEFCoreSeltzr</span><span style='color:#222222;'>&lt;</span><span style='color:#267F99;'>Todo</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#267F99;'>TodoContext</span><span style='color:#222222;'>&gt;</span><span style='color:#222222;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>todos</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>api</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#001080;'>api</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>ParseJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>WriteJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>CatchExceptions</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>OrderBy</span><span style='color:#222222;'>(</span><span style='color:#001080;'>t</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>t</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Text</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>RequireAllInput</span><span style='color:#222222;'>(</span><span style='color:#001080;'>t</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#000000;'>!</span><span style='color:#001080;'>string</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>IsNullOrWhiteSpace</span><span style='color:#222222;'>(</span><span style='color:#001080;'>t</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Text</span><span style='color:#222222;'>)</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Get</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>DeleteByPrimaryKey</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>PatchUpdateByPrimaryKey</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>PostCreate</span><span style='color:#222222;'>(</span><span style='color:#001080;'>create</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>            </span><span style='color:#001080;'>create</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Default</span><span style='color:#222222;'>(</span><span style='color:#001080;'>p</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>p</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Created</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>DateTime</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Now</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>}</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span></span><span class="newline">
</span><span style='color:#222222;'>}</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>The <a class="xref" href="../../api/Seltzr.Options.Builder.SeltzrOptionsBuilder-2.html#Seltzr_Options_Builder_SeltzrOptionsBuilder_2_Default__1_System_Linq_Expressions_Expression_System_Func__0___0_____0_">Default</a> method customizes the body parser to set a value for a property if none is provided in the request body.</li>
<li>Run the app and create a new todo item.</li>
<li>Hovering over the ID for that todo should display the creation date.</li>
</ul>
<div class="TIP">
<h5>Tip</h5>
<p>With <code>Created</code> initialized, try updating the <a class="xref" href="../../api/Seltzr.Options.Builder.SeltzrOptionsBuilder-2.html#Seltzr_Options_Builder_SeltzrOptionsBuilder_2_OrderBy__1_System_Linq_Expressions_Expression_System_Func__0___0___">OrderBy</a> method to <a class="xref" href="../../api/Seltzr.Options.Builder.SeltzrOptionsBuilder-2.html#Seltzr_Options_Builder_SeltzrOptionsBuilder_2_OrderByDescending__1_System_Linq_Expressions_Expression_System_Func__0___0___">OrderByDescending</a> and sorting by <code>Created</code> instead.</p>
</div>
<div class="NOTE">
<h5>Note</h5>
<p>Even though the website doesn't, an HTTP <code>POST</code> request to <code>/todos</code> can still provide the <code>Created</code> property. To force <code>Created</code> to always be set to <code>DateTime.Now</code>, use <code>Default()</code> in conjunction with <a class="xref" href="../../api/Seltzr.Options.Builder.SeltzrOptionsBuilder-2.html#Seltzr_Options_Builder_SeltzrOptionsBuilder_2_Ignore_System_Linq_Expressions_Expression_System_Func__0_System_Object___">Ignore</a> to ignore the <code>Created</code> property on any request body.</p>
</div>
<h4 id="getting-a-random-todo">Getting a random <code>Todo</code></h4>
<ul>
<li>Define a new route that uses <a class="xref" href="../../api/Seltzr.Options.Builder.SeltzrOptionsBuilder-2.html#Seltzr_Options_Builder_SeltzrOptionsBuilder_2_Filter_System_Func_System_Linq_IQueryable__0__System_Linq_IQueryable__0___">Filter</a> to perform an advanced operation.</li>
<li>To avoid colliding with the existing <code>GET</code> request, define this route on the <code>/todos/random</code> route pattern.</li>
</ul>
<div class="code-header"><span class="language">Startup.cs</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'dmalaesf')">Copy</button></div><pre id="dmalaesf"><code><span style='color:#001080;'>app</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>AddEFCoreSeltzr</span><span style='color:#222222;'>&lt;</span><span style='color:#267F99;'>Todo</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#267F99;'>TodoContext</span><span style='color:#222222;'>&gt;</span><span style='color:#222222;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>todos</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>api</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>    </span><span style='color:#001080;'>api</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>ParseJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>WriteJson</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>CatchExceptions</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>OrderBy</span><span style='color:#222222;'>(</span><span style='color:#001080;'>t</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>t</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Text</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>RequireAllInput</span><span style='color:#222222;'>(</span><span style='color:#001080;'>t</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#000000;'>!</span><span style='color:#001080;'>string</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>IsNullOrWhiteSpace</span><span style='color:#222222;'>(</span><span style='color:#001080;'>t</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Text</span><span style='color:#222222;'>)</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Get</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Get</span><span style='color:#222222;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>/random</span><span style='color:#A31515;'>&quot;</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>random</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>            </span><span style='color:#001080;'>random</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Filter</span><span style='color:#222222;'>(</span><span style='color:#001080;'>d</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>d</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Skip</span><span style='color:#222222;'>(</span><span style='color:#0000FF;'>new</span><span style='color:black;'> </span><span style='color:#267F99;'>Random</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Next</span><span style='color:#222222;'>(</span><span style='color:#098658;'>0</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#001080;'>d</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Count</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:#222222;'>)</span><span style='color:#222222;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Take</span><span style='color:#222222;'>(</span><span style='color:#098658;'>1</span><span style='color:#222222;'>)</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>        </span><span style='color:#222222;'>}</span><span style='color:#222222;'>)</span></span><span class="newline">
</span><span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>DeleteByPrimaryKey</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>PatchUpdateByPrimaryKey</span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span>
<span style='color:black;'>        </span><span style='color:#222222;'>.</span><span style='color:#795E26;'>PostCreate</span><span style='color:#222222;'>(</span><span style='color:#001080;'>create</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#222222;'>{</span>
<span style='color:black;'>            </span><span style='color:#001080;'>create</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>Default</span><span style='color:#222222;'>(</span><span style='color:#001080;'>p</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>p</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Created</span><span style='color:#222222;'>,</span><span style='color:black;'> </span><span style='color:#222222;'>(</span><span style='color:#222222;'>)</span><span style='color:black;'> </span><span style='color:#000000;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>DateTime</span><span style='color:#222222;'>.</span><span style='color:#001080;'>Now</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'>        </span><span style='color:#222222;'>}</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:#222222;'>}</span><span style='color:#222222;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span></code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>Though a working example for this guide, it's probably not a good idea to declare a <code>new Random()</code> on every request in practice.</p>
</div>
<ul>
<li>To make use of this new route, update the website:</li>
</ul>
<div class="code-header"><span class="language">Index.cshtml</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'mrcqlaxr')">Copy</button></div><pre id="mrcqlaxr"><code><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>div</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>text-center</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>    </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>h1</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>display-4</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:black;'>To-Do</span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>h1</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>    </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>section</span><span style='color:black;'> </span><span style='color:#FF0000;'>id</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>todo-container</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>col</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:black;'>        </span>
<span class="line-highlight"><span style='color:black;'>        </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>ul</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>list-group mb-2</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>            </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>li</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>list-group-item</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:black;'>Random To-Do: </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>span</span><span style='color:black;'> </span><span style='color:#FF0000;'>id</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>random-todo</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>span</span><span style='color:#800000;'>&gt;</span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>li</span><span style='color:#800000;'>&gt;</span></span><span class="newline">
</span><span class="line-highlight"><span style='color:black;'>        </span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>ul</span><span style='color:#800000;'>&gt;</span></span><span class="newline">
</span><span style='color:black;'>        </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>ul</span><span style='color:black;'> </span><span style='color:#FF0000;'>id</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>todo-list</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>list-group</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>ul</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>        </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>div</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>row m-0</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:black;'>    </span>
<span style='color:black;'>            </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>input</span><span style='color:black;'> </span><span style='color:#FF0000;'>type</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>text</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>form-control col-9 m-2</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>placeholder</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>Todo...</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>id</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>new-todo</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>            </span><span style='color:#800000;'>&lt;</span><span style='color:#800000;'>button</span><span style='color:black;'> </span><span style='color:#FF0000;'>type</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>button</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>class</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>btn btn-primary col m-2</span><span style='color:#0000FF;'>&quot;</span><span style='color:black;'> </span><span style='color:#FF0000;'>id</span><span style='color:#222222;'>=</span><span style='color:#0000FF;'>&quot;</span><span style='color:#0000FF;'>create-btn</span><span style='color:#0000FF;'>&quot;</span><span style='color:#800000;'>&gt;</span><span style='color:black;'>Create</span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>button</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>        </span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>div</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'>    </span><span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>section</span><span style='color:#800000;'>&gt;</span>
<span style='color:#800000;'>&lt;/</span><span style='color:#800000;'>div</span><span style='color:#800000;'>&gt;</span>
<span style='color:black;'></span></code></pre><div class="code-header"><span class="language">site.js</span><div class="spacer"></div><button class="copy-btn" onclick="copyCode(this,'yxoaewzs')">Copy</button></div><pre id="yxoaewzs"><code><span style='color:#008000;'>//</span><span style='color:#008000;'> add to the end of the file</span>
<span style='color:#795E26;'>fetch</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>/todos/random</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>then</span><span style='color:black;'>(</span><span style='color:#001080;'>r</span><span style='color:black;'> </span><span style='color:#0000FF;'>=&gt;</span><span style='color:black;'> </span><span style='color:#001080;'>r</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>json</span><span style='color:black;'>(</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>then</span><span style='color:black;'>(</span><span style='color:#001080;'>todos</span><span style='color:black;'> </span><span style='color:#0000FF;'>=&gt;</span><span style='color:black;'> </span>
<span style='color:black;'>    </span><span style='color:#001080;'>document</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>getElementById</span><span style='color:black;'>(</span><span style='color:#A31515;'>&quot;</span><span style='color:#A31515;'>random-todo</span><span style='color:#A31515;'>&quot;</span><span style='color:black;'>)</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>appendChild</span><span style='color:black;'>(</span><span style='color:#001080;'>document</span><span style='color:#222222;'>.</span><span style='color:#795E26;'>createTextNode</span><span style='color:black;'>(</span><span style='color:#001080;'>todos</span><span style='color:black;'>[</span><span style='color:#098658;'>0</span><span style='color:black;'>]</span><span style='color:#222222;'>.</span><span style='color:#222222;'>Text</span><span style='color:black;'>)</span><span style='color:black;'>)</span>
<span style='color:black;'>)</span><span style='color:black;'>)</span><span style='color:#222222;'>;</span>
<span style='color:black;'></span></code></pre>
<ul>
<li>Run the app. A random todo item should appear at the top of the page.</li>
<li>Additionally, try browsing to <code>/todos/random</code>. You should see a random todo item returned in a JSON array.</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p><strong>Why does <code>/todos/random</code> return an array?</strong> Seltzr won't make assumptions that a route will always return a single element, even if it is always true. In fact, a <code>GET</code> request to <code>/todos/random</code> will return an empty array if there are no todo items. To make this route behave more like a traditional API and always return a single element, use the <a class="xref" href="../../api/Seltzr.Options.Builder.SeltzrOptionsBuilder-2.html#Seltzr_Options_Builder_SeltzrOptionsBuilder_2_RequireExactlyOne">RequireExactlyOne()</a> and <a class="xref" href="../../api/Seltzr.Options.Builder.SeltzrOptionsBuilder-2.html#Seltzr_Options_Builder_SeltzrOptionsBuilder_2_StripArrayIfSingleResult_System_Boolean_">StripArrayIfSingleResult(Boolean)</a> methods alongside <code>Filter</code>.</p>
</div>
<h2 id="summary">Summary</h2>
<ul>
<li>In this guide, you learned how to:
<ul>
<li>Setup a basic REST API with Seltzr.</li>
<li>Create routes using the <code>Get</code>, <code>PostCreate</code>, <code>PatchUpdateByPrimaryKey</code>, and <code>DeleteByPrimaryKey</code> methods.</li>
<li>Use filters and conditions to extend the API.</li>
<li>Create route-specific options by providing a callback to a route-creating method.</li>
</ul>
</li>
</ul>
<h2 id="further-reading">Further Reading</h2>
<ul>
<li><a class="xref" href="../request_flow/index.html">Request Flow</a></li>
<li><a class="xref" href="todo_auth.html">Extending the Todo App: Authentication</a></li>
<li><a class="xref" href="todo_pagination.html">Extending the Todo App: Pagination</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Seltzr/Seltzr/blob/master/docs-src/docfx_project/articles/getting_started/efcore.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
